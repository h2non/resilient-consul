{"version":3,"sources":["consul.js"],"names":["root","factory","define","amd","exports","module","resilientConsul","this","requiredParams","consulParams","params","validateParams","mapServers","onlyHealthy","mapServersFromHealthEndpoint","mapServersFromCatalogEndpoint","basePath","service","discoveryService","refreshPath","enableSelfRefresh","consul","options","resilient","defineResilientOptions","in","inHandler","err","res","next","Array","isArray","data","Object","out","outHandler","datacenter","dc","passing","tag","type","list","map","buildHealthServiceUrl","s","protocol","Service","Address","Port","buildCatalogServiceUrl","ServiceAddress","ServicePort","missing","filter","key","length","TypeError","join","keys","indexOf","forEach","set"],"mappings":"CAAE,SAAUA,EAAMC,GAChB,SAAWC,UAAW,YAAcA,OAAOC,IAAK,CAC9CD,QAAQ,WAAYD,OACf,UAAWG,WAAY,SAAU,CACtCH,EAAQG,QACR,UAAWC,UAAW,UAAYA,SAAW,KAAM,CACjDA,OAAOD,QAAUA,QAAUA,QAAQE,qBAEhC,CACLL,EAAQD,MAEVO,KAAM,SAAUH,GAChB,GAAII,IAAkB,UAAW,UACjC,IAAIC,IAAgB,UAAW,aAAc,WAAY,MAAO,aAAc,cAE9EL,GAAQE,gBAAkB,SAAUI,GAClCA,EAASC,EAAeD,MAGxB,IAAIE,GAAaF,EAAOE,aAAeF,EAAOG,YACxCC,EACAC,EAGN,IAAIC,GAAWN,EAAOG,YAClB,sBACA,sBAGJH,GAAOM,SAAWA,EAAWN,EAAOO,OAGpC,IAAIP,EAAOQ,iBAAkB,CAC3BR,EAAOS,YAAcH,EAAWN,EAAOQ,gBACvCR,GAAOU,kBAAoB,KAI7B,QAASC,GAAQC,EAASC,GACxBC,EAAuBd,EAAQY,EAE/B,QAEEG,KAAM,QAASC,GAAWC,EAAKC,EAAKC,GAClC,GAAIF,EAAK,MAAOE,IAKhB,IAAIC,MAAMC,QAAQH,EAAII,OAASC,OAAOL,EAAII,KAAK,MAAQJ,EAAII,KAAK,GAAI,CAClEJ,EAAII,KAAOpB,EAAWgB,EAAII,MAG5BH,KAGFK,IAAO,QAASC,GAAYb,EAASO,GACnCP,EAAQZ,OAASY,EAAQZ,UAEzB,IAAIA,EAAO0B,WAAY,CACrBd,EAAQZ,OAAO2B,GAAK3B,EAAO0B,WAG7B,GAAI1B,EAAOG,YAAa,CACtBS,EAAQZ,OAAO4B,QAAU,KAG3B,GAAI5B,EAAO6B,IAAK,CACdjB,EAAQZ,OAAO6B,IAAM7B,EAAO6B,IAG9BV,MAMNR,EAAOmB,KAAO,WAGd,OAAOnB,EAEP,SAASP,GAA8B2B,GACrC,MAAOA,GAAKC,IAAI,QAASC,GAAuBC,GAC9C,OAAQlC,EAAOmC,UAAY,QAAU,MAAQD,EAAEE,QAAQC,QAAU,MAAQH,EAAEE,QAAQE,MAAQ,MAI/F,QAASjC,GAA+B0B,GACtC,MAAOA,GAAKC,IAAI,QAASO,GAAwBL,GAC/C,OAAQlC,EAAOmC,UAAY,QAAU,OAASD,EAAEM,gBAAkBN,EAAEG,SAAW,MAAQH,EAAEO,aAAe,OAK9G,SAASxC,GAAgBD,GACvB,GAAI0C,GAAU5C,EAAe6C,OAAO,SAAUC,GAC5C,OAAQ5C,EAAO4C,IAGjB,IAAIF,EAAQG,OAAQ,CAClB,KAAM,IAAIC,WAAU,4BAA8BJ,EAAQK,KAAK,OAGjE,MAAO/C,GAGT,QAASc,GAAwBd,EAAQY,GACvCW,OAAOyB,KAAKhD,GACX2C,OAAO,SAAUC,GAChB,QAAS7C,EAAakD,QAAQL,KAE/BM,QAAQ,SAAUN,GACjBhC,EAAQuC,IAAIP,EAAK5C,EAAO4C"}