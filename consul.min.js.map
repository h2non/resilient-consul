{"version":3,"sources":["consul.js"],"names":["root","factory","define","amd","exports","module","resilientConsul","this","requiredParams","consulParams","params","validateParams","mapServers","onlyHealthy","mapServersFromHealthEndpoint","mapServersFromCatalogEndpoint","basePath","service","discoveryService","refreshPath","enableSelfRefresh","consul","options","resilient","defineResilientOptions","in","inHandler","err","res","next","Array","isArray","data","out","outHandler","datacenter","dc","passing","tag","type","hasAddress","svc","Address","list","map","buildServiceUrl","s","protocol","Service","Port","filter","ServiceAddress","ServicePort","missing","key","length","TypeError","join","Object","keys","indexOf","forEach","set"],"mappings":"CAAE,SAAUA,EAAMC,GAChB,SAAWC,UAAW,YAAcA,OAAOC,IAAK,CAC9CD,QAAQ,WAAYD,OACf,UAAWG,WAAY,SAAU,CACtCH,EAAQG,QACR,UAAWC,UAAW,UAAYA,SAAW,KAAM,CACjDA,OAAOD,QAAUA,QAAUA,QAAQE,qBAEhC,CACLL,EAAQD,MAEVO,KAAM,SAAUH,GAChB,GAAII,IAAkB,UAAW,UACjC,IAAIC,IAAgB,UAAW,aAAc,WAAY,MAAO,aAAc,cAE9EL,GAAQE,gBAAkB,SAAUI,GAClCA,EAASC,EAAeD,MAGxB,IAAIE,GAAaF,EAAOE,aAAeF,EAAOG,YACxCC,EACAC,EAGN,IAAIC,GAAWN,EAAOG,YAClB,sBACA,sBAGJH,GAAOM,SAAWA,EAAWN,EAAOO,OAGpC,IAAIP,EAAOQ,iBAAkB,CAC3BR,EAAOS,YAAcH,EAAWN,EAAOQ,gBACvCR,GAAOU,kBAAoB,KAI7B,QAASC,GAAQC,EAASC,GACxBC,EAAuBd,EAAQY,EAE/B,QAEEG,KAAM,QAASC,GAAWC,EAAKC,EAAKC,GAClC,GAAIF,EAAK,MAAOE,IAEhB,IAAIC,MAAMC,QAAQH,EAAII,MAAO,CAC3BJ,EAAII,KAAOpB,EAAWgB,EAAII,MAG5BH,KAGFI,IAAO,QAASC,GAAYZ,EAASO,GACnCP,EAAQZ,OAASY,EAAQZ,UAEzB,IAAIA,EAAOyB,WAAY,CACrBb,EAAQZ,OAAO0B,GAAK1B,EAAOyB,WAG7B,GAAIzB,EAAOG,YAAa,CACtBS,EAAQZ,OAAO2B,QAAU,KAG3B,GAAI3B,EAAO4B,IAAK,CACdhB,EAAQZ,OAAO4B,IAAM5B,EAAO4B,IAG9BT,MAMNR,EAAOkB,KAAO,WAGd,OAAOlB,EAEP,SAASmB,GAAYC,GACnB,MAAOA,IAAOA,EAAIC,QAGpB,QAAS5B,GAA8B6B,GACrC,MAAOA,GAAKC,IAAI,QAASC,GAAiBC,GACxC,OAAQpC,EAAOqC,UAAY,QAAU,MAAQD,EAAEE,QAAQN,QAAU,MAAQI,EAAEE,QAAQC,MAAQ,MAI/F,QAASlC,GAA+B4B,GACtC,MAAOA,GAAKO,OAAOV,GAAYI,IAAI,QAASC,GAAiBC,GAC3D,OAAQpC,EAAOqC,UAAY,QAAU,OAASD,EAAEK,gBAAkBL,EAAEJ,SAAW,MAAQI,EAAEM,aAAe,OAK9G,SAASzC,GAAgBD,GACvB,GAAI2C,GAAU7C,EAAe0C,OAAO,SAAUI,GAC5C,OAAQ5C,EAAO4C,IAGjB,IAAID,EAAQE,OAAQ,CAClB,KAAM,IAAIC,WAAU,4BAA8BH,EAAQI,KAAK,OAGjE,MAAO/C,GAGT,QAASc,GAAwBd,EAAQY,GACvCoC,OAAOC,KAAKjD,GACXwC,OAAO,SAAUI,GAChB,QAAS7C,EAAamD,QAAQN,KAE/BO,QAAQ,SAAUP,GACjBhC,EAAQwC,IAAIR,EAAK5C,EAAO4C"}